<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://bootsfaces.net/ui"
  xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
  lang="en">
<h:head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="#{msg['META_DESCRIPTION']}" />
  <meta name="theme-color" content="#FFF450" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link rel="alternate" hreflang="en" lang="en" />
  <link rel="alternate" hreflang="ja" lang="ja" />
  <link rel="manifest" href="./app.webmanifest" />
  <link rel="icon" href="./img/icon/icon-512x512.png" />
  <link rel="apple-touch-icon" href="./img/icon/icon-192x192.png" />
  <link rel="apple-touch-startup-image" href="./img/splash/launch-640x1136.png"
    media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" />
  <link rel="apple-touch-startup-image" href="./img/splash/launch-750x1334.png"
    media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" />
  <link rel="apple-touch-startup-image" href="./img/splash/launch-1125x2436.png"
    media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" />
  <link rel="apple-touch-startup-image" href="./img/splash/launch-1242x2208.png"
    media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)" />
  <link rel="apple-touch-startup-image" href="./img/splash/launch-1536x2048.png"
    media="(min-device-width: 768px) and (max-device-width: 1024px) and (-webkit-min-device-pixel-ratio: 2)" />
  <link rel="apple-touch-startup-image" href="./img/splash/launch-1668x2224.png"
    media="(min-device-width: 834px) and (max-device-width: 834px) and (-webkit-min-device-pixel-ratio: 2)" />
  <link rel="apple-touch-startup-image" href="./img/splash/launch-2048x2732.png"
    media="(min-device-width: 1024px) and (max-device-width: 1024px) and (-webkit-min-device-pixel-ratio: 2)" />
  <link rel="stylesheet" href="./css/custom-button-group.css" />
  <title>#{msg['META_TITLE']}</title>
  <script nonce="#{NONCE.nonce}">
    var nend_params = {"media":16766,"site":358659,"spot":1063424,"type":2,"oriented":1};
  </script>
  <script src="https://js1.nend.net/js/nendAdLoader.js" nonce="#{NONCE.nonce}"></script>
  <script async="async"
    src="https://www.googletagmanager.com/gtag/js?id=G-KK2V4LTW4K" nonce="#{NONCE.nonce}"></script>
  <script nonce="#{NONCE.nonce}">
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-KK2V4LTW4K');
  </script>
</h:head>
<h:body>
  <b:container>
    <b:form prependId="false">
      <!-- HowToUse Modal HEAD -->
      <b:modal id="howtouse-modal" title="#{msg['LABEL_WHATSTHIS']}">
        <p>#{msg['TEXT_HOWTOUSE']}</p>
        <p>
          #{msg['TEXT_CAUTION']}(<a href="https://twitter.com/syakeApps"
            target="_blank" rel="noopener">@syakeApps</a>)
        </p>
        <f:facet name="footer">
          <b:button value="#{msg['LABEL_CLOSE']}" look="secondary"
            dismiss="modal" />
        </f:facet>
      </b:modal>
      <!-- HowToUse Modal FOOT -->

      <b:row id="banner-area">
        <b:column style-class="text-center">
          <img src="./img/banner-640x100.png" class="img-fluid"
            style="max-width: 100%; , height: auto;" alt="Logo Banner" />
        </b:column>
      </b:row>

      <b:row id="howtouse-link-area">
        <b:column style-class="text-center">
          <button type="button" data-target="#howtouse-modal"
            data-toggle="modal" class="btn btn-link">#{msg['LABEL_WHATSTHIS']}</button>
        </b:column>
      </b:row>

      <b:row id="weapon-img-area">
        <b:column style-class="text-center">
          <img src="./img/buki/#{IDX_BB.pickupedWeapon.id}.png" class="img-fluid"
            alt="Weapon Image" />
        </b:column>
      </b:row>

      <b:row id="weapon-name-area">
        <b:column style-class="text-center">
          <h5>#{IDX_BB.pickupedWeapon.getLocalizedName(IDX_BB.userLocale)}</h5>
        </b:column>
      </b:row>

      <b:row id="setting-panel-area">
        <b:column col-lg="3" col-md="3" />
        <b:column col-lg="6" col-md="6">
          <b:panel title="#{msg['LABEL_SETTING']}" collapsed="true">
            <h:outputLabel value="#{msg['LABEL_CLASS']}" for="class" />
            <b:selectMultiMenu id="class" value="#{IDX_BB.selectedClassIds}"
              all-selected-text="#{msg['LABEL_ALL_SELECTED']}"
              non-selected-text="#{msg['LABEL_NO_SELECTED']}"
              size="#{APP.classes.size()}">
              <f:selectItems value="#{APP.classes}" var="c" itemValue="#{c.id}"
                itemLabel="#{c.getLocalizedName(IDX_BB.userLocale)}" />
            </b:selectMultiMenu>
            <b:formGroup>
              <h:outputLabel value="#{msg['LABLE_SUB']}" for="sub" />
              <b:selectOneMenu id="sub" value="#{IDX_BB.selectedSubId}">
                <f:selectItem itemLabel="#{msg['LABEL_NO_SELECTED']}"
                  itemValue="0" />
                <f:selectItems value="#{APP.subs}" var="s" itemValue="#{s.id}"
                  itemLabel="#{s.getLocalizedName(IDX_BB.userLocale)}" />
              </b:selectOneMenu>
            </b:formGroup>
            <b:formGroup>
              <h:outputLabel value="#{msg['LABLE_SPECIAL']}" for="special" />
              <b:selectOneMenu id="special" value="#{IDX_BB.selectedSpecialId}">
                <f:selectItem itemLabel="#{msg['LABEL_NO_SELECTED']}"
                  itemValue="0" />
                <f:selectItems value="#{APP.specials}" var="s"
                  itemValue="#{s.id}"
                  itemLabel="#{s.getLocalizedName(IDX_BB.userLocale)}" />
              </b:selectOneMenu>
            </b:formGroup>
          </b:panel>
        </b:column>
        <b:column col-lg="3" col-md="3" />
      </b:row>

      <b:row id="randomize-btn-area">
        <b:column col-lg="3" col-md="3" />
        <b:column col-lg="6" col-md="6" style-class="text-center">
          <h:commandButton styleClass="btn btn-primary btn-block"
            value="#{msg['LABEL_RANDOMIZE']}"
            actionListener="#{IDX_BB.randomizeWeapon()}" />
        </b:column>
        <b:column col-lg="3" col-md="3" />
      </b:row>

    </b:form>

    <b:growl global-only="true" show-detail="true" allow-dismiss="true"
      placementFrom="top" />
  </b:container>

  <script nonce="#{NONCE.nonce}">
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register("./service-worker.js", {scope: "./"}).then(function(reg) {
        console.log('ServiceWorker registration successful with scope: ', reg.scope);
      }).catch(function(err) {
        console.log('ServiceWorker registration failed: ', err);
      });
    }
  </script>
</h:body>
</html>
